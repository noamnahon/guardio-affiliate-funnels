<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Take our free online security assessment to discover your risk level and get personalized protection recommendations.">
  <title>Free Security Assessment | Is Your Browser Protected?</title>
  <link rel="stylesheet" href="../../css/styles.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Header -->
  <header class="quiz-header">
    <div class="container">
      <div class="header-content">
        <a href="../../index.html" class="logo">
          <span class="logo-icon">üõ°Ô∏è</span>
          <span class="logo-text">CyberSecurityAdvisor</span>
        </a>
        <span class="header-badge">‚úì Independently Tested</span>
      </div>
    </div>
  </header>

  <main>
    <!-- Quiz Intro Screen -->
    <section class="quiz-intro" id="intro-screen">
      <div class="container container-md">
        <div class="intro-content text-center">
          
          <!-- Browser Detection Alert -->
          <div class="alert-box" id="browser-alert">
            <span class="alert-icon">‚ö†Ô∏è</span>
            <div>
              <div class="alert-title">Security Check Available</div>
              <div class="alert-detail" id="browser-info">We've detected you're using <strong id="detected-browser">Chrome</strong> on <strong id="detected-os">Windows</strong>. Let's check if you're protected.</div>
            </div>
          </div>

          <h1>Is Your Browser Really Protected?</h1>
          <p class="intro-subtitle">
            Take our free 2-minute security assessment. Answer 8 simple questions and discover your personal risk score.
          </p>
          
          <div class="intro-stats">
            <div class="stat-item">
              <span class="stat-number">3.4B</span>
              <span class="stat-label">Phishing emails sent daily</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">$4.2B</span>
              <span class="stat-label">Lost to scams in 2024</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">1 in 4</span>
              <span class="stat-label">Americans targeted</span>
            </div>
          </div>

          <button class="btn btn-primary btn-lg start-btn" id="start-quiz-btn">
            Start Free Assessment ‚Üí
          </button>
          
          <p class="privacy-note">üîí No email required ‚Ä¢ Takes 2 minutes ‚Ä¢ 100% free</p>

          <div class="trust-row">
            <span>Featured in:</span>
            <span class="trust-logo">PCMag</span>
            <span class="trust-logo">Forbes</span>
            <span class="trust-logo">TechRadar</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Quiz Questions Screen (Hidden Initially) -->
    <section class="quiz-container hidden" id="quiz-screen">
      <div class="container container-md">
        
        <!-- Progress Bar -->
        <div class="progress-wrapper">
          <div class="progress-info">
            <span class="progress-text">Question <span id="current-q">1</span> of <span id="total-q">8</span></span>
            <span class="progress-percent" id="progress-percent">0%</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
          </div>
        </div>

        <!-- Question Card -->
        <div class="question-card">
          <div class="question-number" id="question-number">Question 1</div>
          <div class="question">
            <h2 id="question-text">Loading question...</h2>
            <p class="question-context" id="question-context">Loading context...</p>
          </div>
          <div class="answers" id="answers-container">
            <!-- Answers will be inserted here -->
          </div>
          <div class="quiz-nav">
            <span class="nav-hint">Click an answer to continue</span>
          </div>
        </div>

      </div>
    </section>

    <!-- Loading Screen (Hidden Initially) -->
    <section class="quiz-loading hidden" id="loading-screen">
      <div class="container container-md text-center">
        <div class="loading-animation">
          <div class="loading-spinner"></div>
          <span class="loading-shield">üõ°Ô∏è</span>
        </div>
        <h2>Analyzing Your Responses...</h2>
        <p class="loading-text">We're calculating your personalized security score</p>
        <div class="loading-steps">
          <div class="loading-step" id="step-1">‚úì Analyzing password security...</div>
          <div class="loading-step" id="step-2">‚úì Checking phishing vulnerability...</div>
          <div class="loading-step" id="step-3">‚úì Evaluating data exposure risk...</div>
          <div class="loading-step" id="step-4">‚úì Generating recommendations...</div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="quiz-footer">
    <div class="container text-center">
      <p>This assessment is for educational purposes. Results are based on self-reported habits.</p>
      <p class="footer-brand">CyberSecurityAdvisor ‚Äî Independent Security Reviews Since 2019</p>
    </div>
  </footer>

  <script>
    (function() {
      'use strict';

      // Quiz Questions with emojis and context
      const questions = [
        {
          question: "How many different passwords do you use across your online accounts?",
          context: "üí° Did you know? 81% of data breaches are caused by weak or reused passwords. Using the same password everywhere means one breach exposes all your accounts.",
          answers: [
            { text: "One password for everything", icon: "üîì", value: 0 },
            { text: "2-3 passwords I rotate", icon: "üîë", value: 2 },
            { text: "A different password for each account", icon: "üîê", value: 5 }
          ]
        },
        {
          question: "When you receive an email asking you to click a link, what do you usually do?",
          context: "üí° Did you know? 91% of cyberattacks start with a phishing email. Scammers create emails that look identical to real ones from Amazon, banks, and Netflix.",
          answers: [
            { text: "Click it if it looks legitimate", icon: "üëÜ", value: 0 },
            { text: "Sometimes click, sometimes check first", icon: "ü§î", value: 2 },
            { text: "Always verify the sender and URL first", icon: "üîç", value: 5 }
          ]
        },
        {
          question: "Do you ever access your bank account or make purchases on public Wi-Fi?",
          context: "üí° Did you know? Hackers can intercept data on public Wi-Fi in coffee shops, airports, and hotels. Your banking info can be stolen in seconds.",
          answers: [
            { text: "Yes, I do it regularly", icon: "üì∂", value: 0 },
            { text: "Occasionally when I need to", icon: "‚ö°", value: 2 },
            { text: "Never ‚Äî I wait for secure Wi-Fi", icon: "üè†", value: 5 }
          ]
        },
        {
          question: "Have you ever checked if your email address was involved in a data breach?",
          context: "üí° Did you know? Over 12 billion personal records have been exposed in data breaches. Your email has likely been leaked at least once.",
          answers: [
            { text: "No, I don't know how to check", icon: "‚ùì", value: 0 },
            { text: "I checked once, a while ago", icon: "üìÖ", value: 2 },
            { text: "Yes, I check regularly", icon: "‚úÖ", value: 5 }
          ]
        },
        {
          question: "Do you have any browser security extensions or protection tools installed?",
          context: "üí° Did you know? Chrome and Edge block some threats, but miss up to 40% of new phishing sites. Dedicated protection catches what browsers miss.",
          answers: [
            { text: "No, I don't have any protection", icon: "üö´", value: 0 },
            { text: "I'm not sure what I have", icon: "ü§∑", value: 1 },
            { text: "Yes, I have security tools installed", icon: "üõ°Ô∏è", value: 5 }
          ]
        },
        {
          question: "How many of your important accounts use two-factor authentication (2FA)?",
          context: "üí° Did you know? 2FA blocks 99.9% of automated attacks. Without it, a stolen password gives hackers complete access to your account.",
          answers: [
            { text: "None of them", icon: "üò∞", value: 0 },
            { text: "Some of them", icon: "üì±", value: 2 },
            { text: "All my important accounts", icon: "üí™", value: 5 }
          ]
        },
        {
          question: "How often do you update your browser and operating system?",
          context: "üí° Did you know? Security updates patch vulnerabilities hackers actively exploit. Skipping updates leaves known 'doors' open for attackers.",
          answers: [
            { text: "I usually ignore update notifications", icon: "üôà", value: 0 },
            { text: "When I remember or have time", icon: "‚è∞", value: 2 },
            { text: "As soon as updates are available", icon: "üöÄ", value: 5 }
          ]
        },
        {
          question: "Do you have any way to monitor if your personal information appears on the dark web?",
          context: "üí° Did you know? Stolen data is sold on the dark web within hours of a breach. Identity theft can go unnoticed for months without monitoring.",
          answers: [
            { text: "No, I don't monitor this at all", icon: "üåë", value: 0 },
            { text: "I'm not sure what that means", icon: "‚ùì", value: 0 },
            { text: "Yes, I have dark web monitoring", icon: "üëÅÔ∏è", value: 5 }
          ]
        }
      ];

      // State
      let currentQuestion = 0;
      let score = 0;
      let answers = {};
      const totalQuestions = questions.length;
      const maxScore = totalQuestions * 5;

      // DOM Elements
      const introScreen = document.getElementById('intro-screen');
      const quizScreen = document.getElementById('quiz-screen');
      const loadingScreen = document.getElementById('loading-screen');
      const startBtn = document.getElementById('start-quiz-btn');
      const questionNumber = document.getElementById('question-number');
      const questionText = document.getElementById('question-text');
      const questionContext = document.getElementById('question-context');
      const answersContainer = document.getElementById('answers-container');
      const progressFill = document.getElementById('progress-fill');
      const progressPercent = document.getElementById('progress-percent');
      const currentQ = document.getElementById('current-q');
      const totalQ = document.getElementById('total-q');

      // Browser Detection
      function detectBrowser() {
        const userAgent = navigator.userAgent;
        let browser = 'your browser';
        let os = 'your device';

        // Detect OS
        if (userAgent.indexOf('Windows') > -1) os = 'Windows';
        else if (userAgent.indexOf('Mac') > -1) os = 'macOS';
        else if (userAgent.indexOf('Linux') > -1) os = 'Linux';
        else if (userAgent.indexOf('Android') > -1) os = 'Android';
        else if (/iPad|iPhone|iPod/.test(userAgent)) os = 'iOS';

        // Detect Browser
        if (userAgent.indexOf('Edg') > -1) browser = 'Edge';
        else if (userAgent.indexOf('Chrome') > -1) browser = 'Chrome';
        else if (userAgent.indexOf('Firefox') > -1) browser = 'Firefox';
        else if (userAgent.indexOf('Safari') > -1) browser = 'Safari';

        return { browser, os };
      }

      // Initialize
      function init() {
        totalQ.textContent = totalQuestions;
        
        // Set browser info
        const { browser, os } = detectBrowser();
        document.getElementById('detected-browser').textContent = browser;
        document.getElementById('detected-os').textContent = os;
      }

      // Start Quiz - HIDE intro, SHOW quiz (no scrolling)
      startBtn.addEventListener('click', function() {
        // Scroll to top FIRST before showing quiz
        window.scrollTo({ top: 0, behavior: 'instant' });
        // Then hide intro and show quiz
        introScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        // Ensure quiz is at top of viewport
        setTimeout(() => {
          window.scrollTo({ top: 0, behavior: 'instant' });
          quizScreen.scrollIntoView({ behavior: 'instant', block: 'start' });
        }, 10);
        showQuestion(0);
      });

      // Show Question
      function showQuestion(index) {
        if (index >= totalQuestions) {
          finishQuiz();
          return;
        }

        currentQuestion = index;
        const q = questions[index];

        // Update progress
        const progress = Math.round((index / totalQuestions) * 100);
        progressFill.style.width = progress + '%';
        progressPercent.textContent = progress + '%';
        currentQ.textContent = index + 1;

        // Update question number
        questionNumber.textContent = `Question ${index + 1}`;

        // Update question text and context
        questionText.textContent = q.question;
        questionContext.textContent = q.context;

        // Create answer buttons with emojis
        answersContainer.innerHTML = '';
        q.answers.forEach((answer, i) => {
          const btn = document.createElement('button');
          btn.className = 'answer-btn';
          btn.innerHTML = `
            <span class="answer-icon">${answer.icon}</span>
            <span class="answer-text">${answer.text}</span>
          `;
          btn.addEventListener('click', function() {
            selectAnswer(answer.value, index, i);
          });
          answersContainer.appendChild(btn);
        });
      }

      // Select Answer
      function selectAnswer(value, questionIndex, answerIndex) {
        score += value;
        answers[questionIndex] = answerIndex;

        // Visual feedback
        const buttons = answersContainer.querySelectorAll('.answer-btn');
        buttons[answerIndex].classList.add('selected');

        // Disable all buttons
        buttons.forEach(btn => btn.disabled = true);

        // Auto-advance after short delay
        setTimeout(() => {
          showQuestion(currentQuestion + 1);
        }, 400);
      }

      // Finish Quiz
      function finishQuiz() {
        // Calculate final score (0-100)
        const finalScore = Math.round((score / maxScore) * 100);

        // Store data for results page
        sessionStorage.setItem('quizScore', finalScore);
        sessionStorage.setItem('quizAnswers', JSON.stringify(answers));

        // Hide quiz, ensure intro stays hidden, show loading
        quizScreen.classList.add('hidden');
        introScreen.classList.add('hidden'); // Make sure intro stays hidden
        loadingScreen.classList.remove('hidden');
        
        // Scroll to top to show loading screen
        window.scrollTo({ top: 0, behavior: 'instant' });
        setTimeout(() => {
          loadingScreen.scrollIntoView({ behavior: 'instant', block: 'start' });
        }, 10);

        // Reset loading steps
        const steps = ['step-1', 'step-2', 'step-3', 'step-4'];
        steps.forEach(step => {
          document.getElementById(step).classList.remove('active');
        });

        // Animate loading steps
        steps.forEach((step, i) => {
          setTimeout(() => {
            document.getElementById(step).classList.add('active');
          }, i * 500);
        });

        // Redirect after loading animation completes
        setTimeout(() => {
          window.location.href = `results.html?score=${finalScore}`;
        }, 2500);
      }

      // Initialize on page load
      init();
    })();
  </script>
</body>
</html>
